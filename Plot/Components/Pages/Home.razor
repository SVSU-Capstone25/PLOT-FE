@page "/"

<h3>TextInput Demo</h3>

<!-- Button to trigger validation -->
<button @onclick="HandleSubmit">Submit</button>

<div>
    <!-- First TextInput with Label On Top -->
    <TextInput Id="input1" Label="First Name" LabelPosition="top" Placeholder="Enter your first name" 
               Value="@firstName" ValueChanged="@(val => firstName = val)" IsValid="@firstNameValid" />

    <!-- Second TextInput with Label on Left -->
    <TextInput Id="input2" Label="Last Name" LabelPosition="left" Placeholder="Enter your last name" 
               Value="@lastName" ValueChanged="@(val => lastName = val)" IsValid="@lastNameValid" />

    <!-- Third TextInput with No Label -->
    <TextInput Id="input3" Label="" LabelPosition="none" Placeholder="Enter your email" 
               Value="@email" ValueChanged="@(val => email = val)" IsValid="@emailValid" />
</div>

@code {
    private string? firstName;
    private string? lastName;
    private string? email;

    private bool firstNameValid = true;
    private bool lastNameValid = true;
    private bool emailValid = true;

    // Method to validate fields and trigger UI changes
    private void HandleSubmit()
    {
        // Validate fields and update the validity
        firstNameValid = !string.IsNullOrWhiteSpace(firstName);
        lastNameValid = !string.IsNullOrWhiteSpace(lastName);
        emailValid = !string.IsNullOrWhiteSpace(email);

        // Trigger a re-render so that styles get updated
        StateHasChanged();
    }
}
